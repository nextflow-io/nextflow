(lineage-model-page)=

# Lineage Metadata Model

## Annotation

Describe a metadata annotation as a key-value pair.

**Properties**

`String key`
: Key to identify the annotation.

`Object value`
: Annotation value.

## Checksum

Describe a checksum.

**Properties**

`String value`
: Checksum value.

`String algorithm`
: Algorithm used to compute the checksum.

`String mode`
: Algorithm's mode used to compute the checksum.

## Data Path

Describe a data path used in a task or workflow.

**Properties**

`String path`
: Path or URL of the data.

`Checksum checksum`
: Computed checksum to validate the data stored in the path.


## File Output

Describe a file or directory generated by tasks and workflows.

**Properties**

`String path`
: Real path of the output file.

`Checksum checksum`
: Checksum of the output file.

`String source`
: Entity that generated the file. Possible entities are: a `FileOutput` if the workflow published the file from a task output; a `TaskRun` if the file is a task output; or a `WorkflowRun` if the data is generated by the workflow (e.g., an index file).

`String workflowRun`
: Reference to the workflow run that generated the file.

`String taskRun`
: Reference to the task that generated the file (`null` if data is published by a workflow).

`long size`
: Size of the file. If `path` is a directory, the size refers to the size of the directory file in the file system. It does not include the size of all the data in the directory.  

`OffsetDateTime createdAt`
: Creation date.

`OffsetDateTime modifiedAt`
: Last modified date.

`List<Annotation> annotations`
: Annotations attached to the file.

## Parameter

Describe a workflow or task parameters (inputs or outputs).

**Properties**

`String type`
: Parameter type.

`String name`
: Parameter name.

`Object value`
: Parameter value.


## Task Output

Describe the output associated to a task run.

**Properties**

`String taskRun`
: Reference to the task run that generated the output.

`String workflowRun`
: Reference to the workflow run that executed the task generating the output.

`OffsetDateTime createdAt`
: Creation date of this task outputs description.

`List<Parameter> output`
: Output of the task.

`List<Annotation> annotations`
: Annotations attached to the task outputs.

## Task Run

Describe a task execution.

**Properties**

`String sessionId`
: Execution session identifier.

`String name`
: Task name.

`Checksum codeChecksum`
: Checksum of the task source code.

`String script`
: Resolved task script.

`List<Parameter> input`
: Task input.

`String container`
: Container used by the task.

`String conda`
: Conda environment used by the task.

`String spack`
: Spack environment used by the task.

`String architecture`
: Architecture defined in the Spack environment used by the task.

`Map globalVars`
: Global variables defined in the task run.

`List<DataPath> binEntries`
: Binaries used by the task.

`String workflowRun`
: Workflow run associated with the task run.

`List<Annotation> annotations`
: Annotations attached to the task run.

## Workflow

Describe a workflow.

**Properties**

`List<DataPath> scriptFiles`
: List of script files defining a workflow.

`String repository`
: Workflow repository.

`String commitId`
: Workflow commit identifier.

## Workflow Output

Describe the output associated with a workflow run.

**Properties**

`OffsetDateTime createdAt`
: Creation date of the workflow output description.

`String workflowRun`
: Workflow run that generated the output.

`List<Parameter> output`
: List of workflow outputs.

`List<Annotation> annotations`
: Annotations attached to the workflow outputs.

## Workflow Run

Describe workflow execution.

**Properties**

`Workflow workflow`
: Description of the workflow associated with the workflow run.

`String sessionId`
: Session identifier used in the workflow run.

`String name`
: Workflow run name.

`List<Parameter> params`
: List of workflow parameters.

`Map config`
: Resolved Configuration

List<Annotation> annotations
: Annotations attached to the workflow run.


